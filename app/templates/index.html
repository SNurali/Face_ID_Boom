<!DOCTYPE html>
<html lang="ru" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face ID Boom</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body class="bg-dark text-light">
<div class="container py-5">

    <h1 class="text-center mb-4">
        Face ID <span class="text-primary">Boom JPG-Style Production</span>
    </h1>

    <!-- MAIN CAMERA -->
    <div class="text-center mb-4">
        <video id="video"
               autoplay muted playsinline
               class="w-75 border border-primary rounded">
        </video>
    </div>

    <!-- –†–ï–ñ–ò–ú –í–í–û–î–ê –î–õ–Ø –ü–û–ò–°–ö–ê -->
    <div class="text-center mb-4">
        <div class="btn-group w-75 mx-auto" role="group">
            <input type="radio" class="btn-check" name="searchPhotoMode" id="searchModeCamera" checked>
            <label class="btn btn-outline-primary" for="searchModeCamera">
                –ö–∞–º–µ—Ä–∞
            </label>

            <input type="radio" class="btn-check" name="searchPhotoMode" id="searchModeUpload">
            <label class="btn btn-outline-primary" for="searchModeUpload">
                –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
            </label>
        </div>
    </div>

    <!-- –ü—Ä–µ–≤—å—é –¥–ª—è –ø–æ–∏—Å–∫–∞ -->
    <div class="text-center mb-4">
        <!-- –ö–∞–º–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–Ω–∞) -->
        <div id="searchCameraBlock" class="mb-3">
            <small class="text-muted d-block mb-2">
                –ù–∞–≤–µ–¥–∏—Ç–µ –ª–∏—Ü–æ –≤ –∫–∞–¥—Ä –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã
            </small>
        </div>

        <!-- –ë–ª–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div id="searchUploadBlock" class="mb-3 d-none">
            <input type="file"
                   id="searchPhotoFile"
                   accept="image/*"
                   class="form-control mb-2 w-75 mx-auto">
            <img id="searchPhotoPreview"
                 class="img-fluid rounded border border-primary mx-auto d-block"
                 style="max-height: 320px; display: none;">
            <small class="text-muted d-block">
                –í—ã–±–µ—Ä–∏—Ç–µ —á—ë—Ç–∫–æ–µ —Ñ–æ—Ç–æ –ª–∏—Ü–∞
            </small>
        </div>
    </div>

    <!-- BUTTONS -->
    <div class="text-center mb-4">
        <button id="registerBtn" class="btn btn-primary btn-lg me-2">
            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </button>
        <button id="checkDbBtn" class="btn btn-info btn-lg">
            –ü–æ–∏—Å–∫
        </button>
    </div>

    <!-- üîç SEARCH RESULT -->
    <div id="searchResult"
         class="card border-success bg-dark text-light mt-4"
         style="display:none">

        <div class="card-header bg-success text-white text-center">
            <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞</strong>
        </div>

        <div class="card-body">
            <div id="searchMatches"
                 class="list-group list-group-flush">
            </div>
        </div>
    </div>

    <!-- REGISTER MODAL -->
    <div class="modal fade" id="registerModal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content bg-dark text-light border-primary">

                <div class="modal-header">
                    <h5 class="modal-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª–∏—Ü–∞</h5>
                    <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">

                    <!-- MODE SWITCH -->
                    <div class="btn-group w-100 mb-3">
                        <input type="radio" class="btn-check"
                               name="photoMode" id="modeCamera" checked>
                        <label class="btn btn-outline-primary" for="modeCamera">
                            –ö–∞–º–µ—Ä–∞
                        </label>

                        <input type="radio" class="btn-check"
                               name="photoMode" id="modeUpload">
                        <label class="btn btn-outline-primary" for="modeUpload">
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
                        </label>
                    </div>

                    <!-- CAMERA PREVIEW -->
                    <div id="cameraBlock" class="mb-3 text-center">
                        <video id="modalVideo"
                               autoplay muted playsinline
                               class="w-100 border border-primary rounded">
                        </video>
                        <small class="text-muted">
                            –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–∏—Ü–æ –≤ –∫–∞–¥—Ä–µ
                        </small>
                    </div>

                    <!-- UPLOAD PREVIEW -->
                    <div id="uploadBlock" class="mb-3 text-center d-none">
                        <input type="file"
                               id="photoFile"
                               accept="image/*"
                               class="form-control mb-2">
                        <img id="photoPreview"
                             class="img-fluid rounded border border-primary d-none">
                        <small class="text-muted">
                            –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ —Å —Ö–æ—Ä–æ—à–æ –≤–∏–¥–∏–º—ã–º –ª–∏—Ü–æ–º
                        </small>
                    </div>

                    <!-- FORM -->
                    <form id="registerForm">
                        <input id="full_name"
                               class="form-control mb-2"
                               placeholder="–§–ò–û"
                               required>

                        <input id="passport"
                               class="form-control mb-2"
                               placeholder="–ü–∞—Å–ø–æ—Ä—Ç"
                               required>

                        <select id="gender"
                                class="form-select mb-2"
                                required>
                            <option value="">–ü–æ–ª</option>
                            <option value="1">–ú—É–∂—Å–∫–æ–π</option>
                            <option value="2">–ñ–µ–Ω—Å–∫–∏–π</option>
                        </select>

                        <input id="citizenship"
                               class="form-control mb-2"
                               placeholder="–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ">

                        <input id="birth_date"
                               type="date"
                               class="form-control mb-2">

                        <hr>

                        <input id="visa_type"
                               class="form-control mb-2"
                               placeholder="–¢–∏–ø –≤–∏–∑—ã">

                        <input id="visa_number"
                               class="form-control mb-2"
                               placeholder="–ù–æ–º–µ—Ä –≤–∏–∑—ã">

                        <input id="entry_date"
                               type="date"
                               class="form-control mb-2">

                        <input id="exit_date"
                               type="date"
                               class="form-control mb-2">
                    </form>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-secondary"
                            data-bs-dismiss="modal">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button id="submitRegister"
                            class="btn btn-primary">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>

            </div>
        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/static/js/script.js"></script>
</body>
</html>